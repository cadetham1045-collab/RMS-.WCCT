{% extends 'base.html' %}
{% block content %}

{% if action=='add_student' %}
  <h2>â• Add Student</h2>
  <div class="form" style="max-width:500px;margin:0 auto">
    <form method="post">
      <label>ğŸ‘¤ Username</label>
      <input name="username" required>
      <label>ğŸ”’ Password</label>
      <input name="password" type="password" required>
      <label>ğŸ“ Roll Number</label>
      <input name="roll_number" required>
      <label>ğŸ“ Student Name</label>
      <input name="name" required>
      <label>ğŸ  House Name</label>
      <input name="house_name" placeholder="e.g., Iqbal, Quaid, Allama">
      <label>ğŸ“š Class</label>
      <select name="class_grade">
        {% for c in classes %}
          <option value="{{c}}">Class {{c}}</option>
        {% endfor %}
      </select>
      <div style="margin-top:20px;display:flex;gap:10px">
        <button class="btn" type="submit">âœ“ Create Student</button>
        <a class="btn" style="flex:1;text-align:center;background:rgba(0,112,179,0.2);color:var(--button)" href="/admin">â† Cancel</a>
      </div>
    </form>
  </div>

{% elif action=='add_mark' %}
  <h2>ğŸ“Š Add Mark</h2>
  <div class="form" style="max-width:600px;margin:0 auto">
    <form method="post">
      <label>ğŸ“ Student Roll Number</label>
      <input name="roll_number" required placeholder="e.g., 001">
      <label>ğŸ“š Subject</label>
      <input name="subject" required placeholder="e.g., Mathematics">
      <label>ğŸ“ 1st Term Marks (out of 100)</label>
      <input name="first_term" type="number" step="0.01" min="0" max="100" placeholder="0.00">
      <label>ğŸ“˜ 2nd Term Marks (out of 100)</label>
      <input name="second_term" type="number" step="0.01" min="0" max="100" placeholder="0.00">
      <label>ğŸ† Board Marks (out of 100)</label>
      <input name="board_mark" type="number" step="0.01" min="0" max="100" placeholder="0.00">
      <p class="small" style="background:rgba(7,112,179,0.1);padding:10px;border-radius:6px;border-left:3px solid var(--button)">â„¹ï¸ Fill at least one term to add marks</p>
      <div style="margin-top:20px;display:flex;gap:10px">
        <button class="btn" type="submit">âœ“ Add Mark</button>
        <a class="btn" style="flex:1;text-align:center;background:rgba(0,112,179,0.2);color:var(--button)" href="/admin">â† Cancel</a>
      </div>
    </form>
  </div>

{% elif action=='update_mark' %}
  <h2>âœï¸ Update Mark</h2>
  <div class="form" style="max-width:600px;margin:0 auto">
    <div style="background:rgba(113,181,223,0.1);padding:12px;border-radius:8px;margin-bottom:16px;border-left:4px solid var(--button)">
      <p style="margin:4px 0"><strong>Subject:</strong> {{ mark.subject }}</p>
      <p style="margin:4px 0"><strong>Student:</strong> {{ mark.student.name }} ({{ mark.student.roll_number }})</p>
    </div>
    <form method="post">
      <label>ğŸ“ 1st Term Marks (out of 100)</label>
      <input name="first_term" type="number" step="0.01" min="0" max="100" value="{{ mark.first_term }}" required>
      <label>ğŸ“˜ 2nd Term Marks (out of 100)</label>
      <input name="second_term" type="number" step="0.01" min="0" max="100" value="{{ mark.second_term }}" required>
      <label>ğŸ† Board Marks (out of 100)</label>
      <input name="board_mark" type="number" step="0.01" min="0" max="100" value="{{ mark.board_mark }}" required>
      <div style="margin-top:20px;display:flex;gap:10px">
        <button class="btn" type="submit">âœ“ Update Mark</button>
        <a class="btn" style="flex:1;text-align:center;background:rgba(0,112,179,0.2);color:var(--button)" href="/teacher">â† Cancel</a>
      </div>
    </form>
  </div>
{% endif %}

{% endblock %}
